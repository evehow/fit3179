{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Comparison of Meteorite Landings: Fell vs Found Over the Years",
    "anchor": "middle",
    "align": "center",
    "color": "#45a29e",  
    "fontSize": 24,
    "fontWeight": "bold"
  },
  "vconcat": [
    {
      "width": 800,
      "height": 400,
      "mark": "line",
      "title": {
        "text": "Filtered Data (Fell vs Found)",
        "color": "#45a29e", 
        "fontSize": 20,
        "fontWeight": "bold"
      },
      "data": {
        "url": "https://raw.githubusercontent.com/evehow/fit3179/main/meteorite_landings.csv",
        "format": {"type": "csv"}
      },
      "transform": [
        {
          "filter": {"field": "fall", "oneOf": ["Found", "Fell"]}
        },
        {
          "calculate": "year(datum.year)",
          "as": "year"
        },
        {
          "filter": "datum.year != null"
        }
      ],
      "encoding": {
        "x": {
          "field": "year",
          "type": "ordinal",
          "axis": {
            "title": "Year",
            "labelColor": "#c5c6c7",  
            "grid": false  
          },
          "scale": {"domain": {"param": "time_brush"}}
        },
        "y": {
          "aggregate": "count",
          "field": "*",
          "type": "quantitative",
          "axis": {
            "title": "Number of Meteorites",
            "labelColor": "#c5c6c7",  
            "grid": false  
          }
        },
        "color": {
          "field": "fall",
          "type": "nominal",
          "scale": {"range": ["#05f2f2", "#1f77b4"]}, 
          "legend": {
            "title": "Fall Status",
            "labelColor": "#c5c6c7",
            "titleColor": "#c5c6c7" 
          }
        },
        "tooltip": [
          {"field": "year", "type": "ordinal", "title": "Year"},
          {"field": "fall", "type": "nominal", "title": "Fall Status"},
          {"aggregate": "count", "field": "*", "type": "quantitative", "title": "Number of Meteorites"}
        ]
      }
    },
    {
      "width": 800,
      "height": 100,
      "title": {
        "text": "Use this chart to filter by year",
        "color": "#45a29e", 
        "fontSize": 16,
        "fontWeight": "bold"
      },
      "mark": "line",
      "data": {
        "url": "https://raw.githubusercontent.com/evehow/fit3179/main/meteorite_landings.csv",
        "format": {"type": "csv"}
      },
      "transform": [
        {
          "calculate": "year(datum.year)",
          "as": "year"
        },
        {
          "filter": "datum.year != null"
        }
      ],
      "params": [
        {
          "name": "time_brush",
          "select": {"type": "interval", "encodings": ["x"]}
          
        }
      ],
      "encoding": {
        "x": {
          "field": "year",
          "type": "ordinal",
          "axis": {
            "title": "Year",
            "labelColor": "#c5c6c7",  
            "grid": false  
          }
        },
        "y": {
          "aggregate": "count",
          "field": "*",
          "type": "quantitative",
          "title": "World Meteorite Counts",
          "axis": {
            "labelColor": "#c5c6c7",  
            "grid": false  
          }
        },
        "color": {"value": "#1b2631"},  
        "tooltip": [
          {"field": "year", "type": "ordinal", "title": "Year"},
          {"aggregate": "count", "field": "*", "type": "quantitative", "title": "Number of Meteorites"}
        ]
      }
    }
  ],
  "background": "#0b0c10" 
}
